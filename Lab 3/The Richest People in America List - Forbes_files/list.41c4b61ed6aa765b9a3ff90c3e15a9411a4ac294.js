function Cookie(name,value,expire_date_millis,path,domain){this.constructor=Cookie;this.name=name;this.setValue(value);this.setPath(path);this.setDomain(domain);this.setExpireDate(expire_date_millis);}Cookie.prototype.setDomain=function(domain){this.domain=domain;};Cookie.prototype.setPath=function(path){this.path=path;};Cookie.prototype.setValue=function(value){this.value=value;};Cookie.prototype.setExpireDate=function(expire_date_millis){var now_date_millis=(new Date()).getTime();if(expire_date_millis<=now_date_millis){this.constructor=null;this.name=null;this.value=null;this.expire_date=null;}else{this.expire_date_millis=expire_date_millis;}};Cookie.prototype.toString=function(){return this.constructor?this.name+COOKIE_ATTRIB_SEP+this.value+COOKIE_ATTRIB_SEP+this.expire_date_millis:null;};COOKIE_SEP=":";COOKIE_ATTRIB_SEP="=";COOKIE_JAR_LABEL="CookieMix";IAB_EXPIRE_DAYS=2*365;CookieMix={};CookieMix.newCookie=function(name,value,expire_date_millis){var cookie_bit=new Cookie(name,value,expire_date_millis);return cookie_bit.constructor?cookie_bit:null;};CookieMix.write=function(){var cookie_mix_expire_date=new Date();cookie_mix_expire_date.setTime(cookie_mix_expire_date.getTime()+(IAB_EXPIRE_DAYS*24*3600*1000));document.cookie=COOKIE_JAR_LABEL+"="+CookieMix.toString()+"; path=/; domain=.forbes.com; expires="+cookie_mix_expire_date.toGMTString();};CookieMix.read=function(){CookieMix.assoc={};if(document.cookie.length>0){var begin=document.cookie.indexOf(COOKIE_JAR_LABEL+"=");if(begin!=-1){begin+=COOKIE_JAR_LABEL.length+1;var end=document.cookie.indexOf(";",begin);if(end==-1){end=document.cookie.length;}var cookie_mix_str=document.cookie.substring(begin,end);CookieMix.parse(cookie_mix_str);}}};CookieMix.parse=function(str){if(str.length!=0){arr=str.split(COOKIE_SEP);for(var i=0;i<arr.length;i++){var cookie_bit_arr=arr[i].split(COOKIE_ATTRIB_SEP);var cookie_bit=CookieMix.newCookie(cookie_bit_arr[0],cookie_bit_arr[1],cookie_bit_arr[2]);CookieMix.put(cookie_bit_arr[0],cookie_bit);}}};CookieMix.get=function(name){return CookieMix.assoc[name];};CookieMix.put=function(name,cookie_bit){CookieMix.assoc[name]=cookie_bit;};CookieMix.del=function(name){CookieMix.assoc[name]=null;};CookieMix.toString=function(){var normalized_arr=new Array();for(var i in CookieMix.assoc){var cookie_bit=CookieMix.assoc[i];if(cookie_bit&&cookie_bit.constructor){normalized_arr.push(cookie_bit);}}return normalized_arr.join(COOKIE_SEP);};function getCookie(name){CookieMix.read();var cookie_bit=CookieMix.get(name);return cookie_bit?unescape(cookie_bit.value):null;}function deleteCookie(name){CookieMix.read();CookieMix.del(name);CookieMix.write();}function deleteCookieBlogs(name){CookieMix.read();CookieMix.del(name);CookieMix.write();}function setCookie(name,value,expiredays){setCookieMillisec(name,value,expiredays*24*3600*1000);}function setCookieBlogs(name,value,expiredays){setCookieMillisec(name,value,expiredays*24*3600*1000);}function setCookieMillisec(name,value,expireMilliseconds){CookieMix.read();var value_enc=escape(value);var cookie_bit_expire_date=new Date();cookie_bit_expire_date.setTime(cookie_bit_expire_date.getTime()+expireMilliseconds);var cookie_bit=CookieMix.get(name);if(cookie_bit==null){cookie_bit=CookieMix.newCookie(name,value_enc,cookie_bit_expire_date.getTime());CookieMix.put(name,cookie_bit);}else{cookie_bit.setValue(value_enc);cookie_bit.setExpireDate(cookie_bit_expire_date.getTime());}CookieMix.write();}function getStandaloneCookie(NameOfCookie){if(document.cookie.length>0){begin=document.cookie.indexOf(NameOfCookie+"=");if(begin!=-1){begin+=NameOfCookie.length+1;end=document.cookie.indexOf(";",begin);if(end==-1){end=document.cookie.length;}return unescape(document.cookie.substring(begin,end));}}return null;}function setStandaloneCookie(NameOfCookie,value,expiredays,path,domain){var ExpireDate=new Date();ExpireDate.setTime(ExpireDate.getTime()+(expiredays*24*3600*1000));document.cookie=NameOfCookie+"="+value+((expiredays==null)?"":"; path=/; domain=.forbes.com; expires="+ExpireDate.toGMTString());}function delStandaloneCookie(NameOfCookie){if(getStandaloneCookie(NameOfCookie)){document.cookie=NameOfCookie+"=; expires=Thu, 01-Jan-70 00:00:01 GMT";}}var reset_arr=["forbesmemb","forbesmemb_confirm"];for(var i in reset_arr){var name=reset_arr[i];var standalone_value=getStandaloneCookie(name);if(standalone_value){var value=getCookie(name);if(!value){setStandaloneCookie(name,standalone_value,IAB_EXPIRE_DAYS);}}}function siteInvited(partnerName){document.cookie="forbesSurveyViewed=yes; path=/; domain=.forbes.com";}function sitePerformedInvite(partnerName){if(getStandaloneCookie("forbesSurveyViewed")=="yes"){return true;}else{return false;}}var forbes=(function(app,$){app.lists=(function($){var _current_page=1,_sort=0,_ascend=true,_amount_to_display,_size_of_list,_matching_entities=[],_entities=false,_year=null,_uri=null,_type=null,_search="",_filter_ids=[],_filter_selections=[],_filter_values=[],handle_hash=null,cache={};function _init(){_init_get_list_specific_data();_init_do_javascript_css_modifications();_init_do_event_binding();_init_display_pagination();_init_handle_hash();}function _init_get_list_specific_data(){var filter_id;_year=$("#thelist").attr("data-year");_uri=$("#thelist").attr("data-uri");_type=$("#thelist").attr("data-type");_amount_to_display=$("#thelist").attr("data-amount-to-display");_size_of_list=$("#thelist").attr("data-size-of-list");$("#filters > div").each(function(){filter_id=$(this).attr("id");if(typeof filter_id!="undefined"){_filter_ids[_filter_ids.length]=filter_id;_filter_selections[_filter_ids.length-1]=$("#"+filter_id).find("option:selected").text();}});for(var i=0;i<_filter_ids.length;i++){_filter_values[i]=[];}}function _init_do_javascript_css_modifications(){$("#video li:odd").css("margin-right","0");$(".horznav li:last-child").css("border","none");}function _init_do_event_binding(){$.fn.tabular=function(){$(this).find(".tabbed").hide();$(this).find("ul.tabs li").append("<span></span>");$(this).find("ul.tabs li:first").addClass("active").show();$(this).find(".tabbed:first").show();$("ul.tabs li").click(function(){$(this).parent().parent().find("ul.tabs li").removeClass("active");$(this).addClass("active");$(this).parent().parent().find(".tabbed").hide();var activeTab=$(this).find("a").attr("rel");$("#"+activeTab).fadeIn();return false;});};$(".tabular").tabular();$(".morevideo").click(function(){$(".morevideo").css("background-color","#DADADA");var more=$("#morevideo").children();$("#forbesvideo").append(more);$("#morevideo").remove();$(".morevideo").remove();});$(".morepopnews").click(function(){$(".morepopnews").css("background-color","#DADADA");var more=$("#morepopnews").children();$("#popularnews").append(more);$("#morepopnews").remove();$(".morepopnews").remove();});$(".morepopppl").click(function(){$(".morepopppl").css("background-color","#DADADA");var more=$("#morepopppl").children();$("#popularpeople").append(more);$("#morepopppl").remove();$(".morepopppl").remove();});$(".digests .tooltip").hover(function(e){this.t=$(this).attr("title");this.title="";$(this).append('<span id="tooltip" class="iconoverlay">'+this.t+"<b></b></span>");var tipoffsety=-($("#tooltip").height()+$(".digests .tooltip").height()+5);var tipoffsetx=(-($("#tooltip").width()+18)/2)+($(".digests .tooltip").width()/2);$("#tooltip").css("top",tipoffsety+"px").css("left",tipoffsetx+"px");return false;},function(){this.title=this.t;$("#tooltip").remove();});$("#search_filter").focus(function(){if($(this).val()=="Search"){$(this).val("");}if(false===_entities){show_loader();$.ajax({type:"get",cache:true,url:"/ajax/load_list/",data:"type="+_type+"&uri="+_uri+"&year="+_year,dataType:"json",success:function(d){remove_loader();_entities=d;_matching_entities=d;}});}}).keyup(function(){_search=$("#search_filter").val();_current_page=1;calculate_entities();}).blur(function(){if($(this).val()==""){$(this).val("Search");}});$("#listPagination > a").live("click",function(){if(!$(this).hasClass("disabled")){if($(this).hasClass("back")){_current_page--;}else{_current_page++;}if(false===_entities){load_entities();}else{display_entities();}scroll_to_top_of_list();}});$("#listPagination > ul > li").live("click",function(){if(!$(this).hasClass("disabled")){var newPage=$(this).text();if(newPage!==_current_page){_current_page=newPage;if(false===_entities){load_entities();}else{display_entities();}}scroll_to_top_of_list();}});$(".lhead").live("click",function(){var newSort;_current_page=1;newSort=$(this).index();if(_sort===newSort){_ascend=!_ascend;}else{_ascend=true;_sort=newSort;}if(false===_entities){load_entities();}else{sort_entities();}});for(var i=0;i<_filter_ids.length;i++){function add_filter_listener(filter_position){$("#"+_filter_ids[filter_position]).children(":first").change(function(){_current_page=1;_sort=0;_ascend=true;_filter_selections[filter_position]=$("#"+_filter_ids[filter_position]).find("option:selected").text();if(false===_entities){load_entities();}else{calculate_entities();}});}add_filter_listener(i);}function scroll_to_top_of_list(){if(document.getElementById("fulllist")&&(_size_of_list>_amount_to_display&&_size_of_list%_amount_to_display!==0)){if(!$(this).hasClass("disabled")){$("html, body").animate({scrollTop:$("#thelist").offset().top},1000);}}}}function _init_display_pagination(){show_pagination();}function _init_handle_hash(){var hashChecker=function(){this.hash="";this.checkItv;this.start();};$.extend(hashChecker.prototype,{save:function(hash){this.hash="#"+hash;if(hash!=document.location.hash){document.location.hash=this.hash.replace(/%2E/g,"_2E").replace(/%2F/g,"_2F").replace(/%3F/g,"_3F");}},parse:function(hash){hash=hash.replace(/_2E/g,"%2E").replace(/_2F/g,"%2F").replace(/_3F/g,"%3F");var pieces=hash.substring(1).split("_");_current_page=parseInt(pieces[0].substring(5));if(!_current_page>0){_current_page=1;}_sort=parseInt(pieces[1].substring(5));_ascend=pieces[2].substring(10)!="desc";_search=decodeURIComponent(pieces[3].substring(7)).replace(/%2E/g,".");for(var i=4;i<pieces.length;i++){_filter_selections[i-4]=decodeURIComponent(pieces[i].substring(7));}if(false===_entities){load_entities();}else{calculate_entities();}},start:function(){var t=this;this.checkItv=setInterval(function(){t.check();},300);},stop:function(){clearInterval(this.checkItv);},check:function(){if(decodeURIComponent(document.location.hash)==decodeURIComponent(this.hash)){return;}this.stop();this.parse(document.location.hash);}});handle_hash=new hashChecker();}function show_loader(){$("#thelist table").attr("class","listloading");$('<div class="loading"></div>').insertBefore(".listloading");}function remove_loader(){$(".loading").remove();$("#thelist table").attr("class","");}function load_entities(){show_loader();$.ajax({type:"get",cache:true,url:"/ajax/load_list/",data:"type="+_type+"&uri="+_uri+"&year="+_year,dataType:"json",success:function(d){remove_loader();_entities=d;calculate_entities();}});}function calculate_entities(){reset_results();var escaped_search=_search.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").toLowerCase();var regex=new RegExp(escaped_search);for(var i=0;i<_entities.length;i++){var entity=_entities[i];if(search_match(entity,regex)){filters_match(entity);}}_size_of_list=_matching_entities.length;sort_entities();display_filters();function reset_results(){_matching_entities=[];for(var i=0;i<_filter_values.length;i++){_filter_values[i]=[];}}function search_match(entity,regex){if(_search.length==0){return true;}if(_uri=="asia200"){return regex.test(entity[2].toLowerCase())||regex.test(entity[3].toLowerCase());}else{if(_uri=="fab50"){return regex.test(entity[2].toLowerCase());}else{if(_uri=="innovative-companies"){return regex.test(entity[2].toLowerCase());}else{if(_uri=="forbes-400"){return regex.test(entity[3].toLowerCase())||regex.test(entity[13].toLowerCase());}else{if(_uri=="powerful-brands"){return regex.test(entity[2].toLowerCase());}else{if(_uri=="best-small-companies"){return regex.test(entity[2].toLowerCase());}else{if(_uri=="powerful-people"){return regex.test(entity[3].toLowerCase())||regex.test(entity[7].toLowerCase())||regex.test(entity[9].toLowerCase());}else{if(_uri=="hedge-fund-managers"){return regex.test(entity[3].toLowerCase())||regex.test(entity[7].toLowerCase());}else{if(_uri=="billionaires"){return regex.test(entity[3].toLowerCase())||regex.test(entity[8].toLowerCase())||regex.test(entity[9].toLowerCase());}else{if(_uri=="best-countries-for-business"||_uri=="best-places-for-business"||_uri=="best-small-places-for-business"||_uri=="best-states-for-business"||_uri=="global2000"||_uri=="growth-companies"||_uri=="largest-private-companies"||_uri=="most-promising-companies"||_uri=="top-charities"||_uri=="mlb-valuations"||_uri=="nfl-valuations"||_uri=="nhl-valuations"||_uri=="nba-valuations"||_uri=="nascar-valuations"||_uri=="soccer-valuations"||_uri=="top-colleges"||_uri=="business-schools"||_uri=="best-foreign-business-schools"){return regex.test(entity[2].toLowerCase());}else{if(_uri=="athletes"||_uri=="celebrities"||_uri=="midas"||_uri=="power-women"||_uri=="africa-billionaires"||_uri=="australia-billionaires"||_uri=="china-billionaires"||_uri=="hong-kong-billionaires"||_uri=="india-billionaires"||_uri=="indonesia-billionaires"||_uri=="philippines-billionaires"||_uri=="japan-billionaires"||_uri=="korea-billionaires"||_uri=="malaysia-billionaires"||_uri=="singapore-billionaires"||_uri=="taiwan-billionaires"||_uri=="thailand-billionaires"){return regex.test(entity[3].toLowerCase());}}}}}}}}}}}return true;}function filters_match(entity){if(_filter_ids.length==0){_matching_entities.push(entity);return;}if(_uri=="top-colleges"||_uri=="business-schools"){var state_filter_value=_filter_selections[0];if(state_filter_value=="All states"||state_filter_value==entity[4]){_matching_entities.push(entity);}if(entity[4]!="-"&&$.inArray(entity[4],_filter_values[0])===-1){_filter_values[0].push(entity[4]);}}else{if(_uri=="best-foreign-business-schools"){var country_filter_value=_filter_selections[0];if(country_filter_value=="All countries"||country_filter_value==entity[4]){_matching_entities.push(entity);}if(entity[4]!="-"&&$.inArray(entity[4],_filter_values[0])===-1){_filter_values[0].push(entity[4]);}}else{if(_uri=="innovative-companies"){var region_filter_value=_filter_selections[0];var industry_filter_value=_filter_selections[1];var matches_filters_count=0;if(region_filter_value=="All regions"||region_filter_value==entity[8]){matches_filters_count++;if($.inArray(entity[9],_filter_values[1])==-1){_filter_values[1].push(entity[9]);}}if(industry_filter_value=="All industries"||industry_filter_value==entity[9]){matches_filters_count++;if($.inArray(entity[8],_filter_values[0])==-1){_filter_values[0].push(entity[8]);}}if(matches_filters_count==_filter_ids.length){_matching_entities.push(entity);}}else{if(_uri=="forbes-400"){var industry_filter_value=_filter_selections[0];var state_filter_value=_filter_selections[1];var category_filter_value=_filter_selections[2];if(industry_filter_value=="All industries"||industry_filter_value==entity[14]){var industry_match=true;}if(state_filter_value=="All states"||state_filter_value==entity[12]){var state_match=true;}if(category_filter_value==="All categories"||category_filter_value==="Newcomers"&&entity[15]==="N"||category_filter_value==="Self-Made"&&entity[16]===true||category_filter_value==="Wealth Gained"&&entity[7]!="-"&&entity[7]>0||category_filter_value==="Wealth Lost"&&entity[7]!="-"&&entity[7]<0||category_filter_value==="Women"&&entity[17]==="F"){var category_match=true;}if(industry_match&&state_match){if(entity[15]==="N"){_filter_values[2][0]="Newcomers";}if(entity[16]===true){_filter_values[2][1]="Self-Made";}if(entity[7]!="-"&&entity[7]>0){_filter_values[2][2]="Wealth Gained";}if(entity[7]&&entity[7]<0){_filter_values[2][3]="Wealth Lost";}if(entity[17]=="F"){_filter_values[2][4]="Women";}}if(industry_match&&category_match){if(entity[12]!="N/A"&&$.inArray(entity[12],_filter_values[1])===-1){_filter_values[1].push(entity[12]);}}if(state_match&&category_match){if(entity[14]!="-"&&$.inArray(entity[14],_filter_values[0])===-1){_filter_values[0].push(entity[14]);}}if(industry_match&&state_match&&category_match){_matching_entities.push(entity);}}else{if(_uri=="best-small-companies"){var industry_filter_value=_filter_selections[0];var state_filter_value=_filter_selections[1];var matches_filters_count=0;if(industry_filter_value=="All industries"||industry_filter_value==entity[8]){matches_filters_count++;if(entity[9]!="-"&&$.inArray(entity[9],_filter_values[1])==-1){_filter_values[1].push(entity[9]);}}if(state_filter_value=="All states"||state_filter_value==entity[9]){matches_filters_count++;if(entity[8]!="-"&&$.inArray(entity[8],_filter_values[0])==-1){_filter_values[0].push(entity[8]);}}if(matches_filters_count==_filter_ids.length){_matching_entities.push(entity);}}else{if(_uri=="top-charities"){var category_filter_value=_filter_selections[0];if(category_filter_value=="All categories"||category_filter_value==entity[9]){_matching_entities.push(entity);}if(entity[9]!="-"&&$.inArray(entity[9],_filter_values[0])==-1){_filter_values[0].push(entity[9]);}}else{if(_uri=="powerful-people"){var country_filter_value=_filter_selections[0];var category_filter_value=_filter_selections[1];var matches_filters_count=0;if(country_filter_value=="All countries"||country_filter_value==entity[9]){matches_filters_count++;if(entity[10]!="-"&&$.inArray(entity[10],_filter_values[1])==-1){_filter_values[1].push(entity[10]);}}if(category_filter_value=="All categories"||category_filter_value==entity[10]){matches_filters_count++;if(entity[9]!="-"&&$.inArray(entity[9],_filter_values[0])==-1){_filter_values[0].push(entity[9]);}}if(matches_filters_count==_filter_ids.length){_matching_entities.push(entity);}}else{if(_uri=="billionaires"||_uri=="global2000"){var industry_filter_value=_filter_selections[0];var country_filter_value=_filter_selections[1];var state_filter_value=_filter_selections[2];if(industry_filter_value=="All industries"||industry_filter_value==entity[10]){var industry_match=true;}if(country_filter_value==="All countries"||country_filter_value==entity[9]){var country_match=true;}if(state_filter_value=="All states"||state_filter_value==entity[11]){var state_match=true;}if(industry_match&&state_match){if(entity[9]!="-"&&$.inArray(entity[9],_filter_values[1])===-1){_filter_values[1].push(entity[9]);}}if(industry_match&&country_match){if(entity[11]!="-"&&$.inArray(entity[11],_filter_values[2])===-1){_filter_values[2].push(entity[11]);}}if(state_match&&country_match){if(entity[10]!="-"&&$.inArray(entity[10],_filter_values[0])===-1){_filter_values[0].push(entity[10]);}}if(industry_match&&state_match&&country_match){_matching_entities.push(entity);}}else{if(_uri=="celebrities"){var category_filter_value=_filter_selections[0];if(category_filter_value=="All categories"||category_filter_value==entity[12]){_matching_entities.push(entity);}if(entity[12]!="-"&&$.inArray(entity[12],_filter_values[0])===-1){_filter_values[0].push(entity[12]);}}else{if(_uri=="asia200"){var industry_filter_value=_filter_selections[0];var country_filter_value=_filter_selections[1];var matches_filters_count=0;if(industry_filter_value=="All industries"||industry_filter_value==entity[7]){matches_filters_count++;if(entity[3]!="-"&&$.inArray(entity[3],_filter_values[1])==-1){_filter_values[1].push(entity[3]);}}if(country_filter_value=="All countries"||country_filter_value==entity[3]){matches_filters_count++;if(entity[7]!="-"&&$.inArray(entity[7],_filter_values[0])==-1){_filter_values[0].push(entity[7]);}}if(matches_filters_count==_filter_ids.length){_matching_entities.push(entity);}}else{if(_uri=="best-places-for-business"||_uri=="best-small-places-for-business"){var state_filter_value=_filter_selections[0];if(state_filter_value=="All states"||state_filter_value==entity[8]){_matching_entities.push(entity);}if(entity[8]!="-"&&$.inArray(entity[8],_filter_values[0])===-1){_filter_values[0].push(entity[8]);}}}}}}}}}}}}}}function sort_entities(){_matching_entities.sort(compare);if(!_ascend){_matching_entities.reverse();}update_table_head();display_entities();function compare(a,b){var aVal,bVal;if(_sort==0&&_uri!="asia200"){return a[0]-b[0];}if(_uri=="top-colleges"){if(_sort==1){aVal=a[2].toLowerCase();bVal=b[2].toLowerCase();if(aVal==bVal){return a[0]-b[0];}else{if(aVal<bVal){return -1;}}return 1;}else{if(_sort==2){aVal=a[4].toLowerCase();bVal=b[4].toLowerCase();if(aVal==bVal){return a[0]-b[0];}else{if(aVal<bVal){return -1;}}return 1;}else{if(_sort==3){aVal=a[5].replace(/[^0-9]/g,"");bVal=b[5].replace(/[^0-9]/g,"");if(aVal==bVal){return a[0]-b[0];}return aVal-bVal;}else{if(_sort==4){aVal=a[6].replace(/[^0-9]/g,"");bVal=b[6].replace(/[^0-9]/g,"");if(aVal==bVal){return a[0]-b[0];}return aVal-bVal;}}}}}if(_uri=="business-schools"||_uri=="best-foreign-business-schools"){if(_sort==1){aVal=a[2].toLowerCase();bVal=b[2].toLowerCase();if(aVal==bVal){return a[0]-b[0];}else{if(aVal<bVal){return -1;}}return 1;}else{if(_sort==2){aVal=a[4].toLowerCase();bVal=b[4].toLowerCase();if(aVal==bVal){return a[0]-b[0];}else{if(aVal<bVal){return -1;}}return 1;}else{if(_sort==3){return numberComp(5);}else{if(_sort==4){return numberComp(6);}else{if(_sort==5){return numberComp(7);}else{if(_sort==6){return numberComp(8);}else{if(_sort==7){return numberComp(9);}else{if(_sort==8){return numberComp(10);}}}}}}}}}else{if(_uri=="power-women"){if(_sort==1){aVal=a[4].toLowerCase();bVal=b[4].toLowerCase();if(aVal==bVal){aVal=a[3];bVal=b[3];if(aVal==bVal){return a[0]-b[0];}else{if(aVal<bVal){return -1;}}return 1;}else{if(aVal<bVal){return -1;}}return 1;}else{if(_sort==2){aVal=a[6];bVal=b[6];if(aVal=="-"&&bVal=="-"){return a[0]-b[0];}else{if(aVal=="-"){return -1;}else{if(bVal=="-"){return 1;}}}return aVal-bVal;}else{if(_sort==3){aVal=a[8].toLowerCase();bVal=b[8].toLowerCase();if(aVal==bVal){return a[0]-b[0];}else{if(aVal<bVal){return -1;}}return 1;}else{if(_sort==4){aVal=a[9].toLowerCase();bVal=b[9].toLowerCase();if(aVal==bVal){return a[0]-b[0];}else{if(aVal<bVal){return -1;}}return 1;}}}}}else{if(_uri=="thailand-billionaires"){if(_sort==1){aVal=a[4].toLowerCase();bVal=b[4].toLowerCase();if(aVal==bVal){aVal=a[3];bVal=b[3];if(aVal==bVal){return a[0]-b[0];}else{if(aVal<bVal){return -1;}}return 1;}else{if(aVal<bVal){return -1;}}return 1;}else{if(_sort==2){aVal=a[7].replace(/[^0-9]/g,"");bVal=b[7].replace(/[^0-9]/g,"");if(aVal=="-"&&bVal=="-"){return a[0]-b[0];}else{if(aVal=="-"){return -1;}else{if(bVal=="-"){return 1;}}}return aVal-bVal;}else{if(_sort==3){aVal=a[6];bVal=b[6];if(aVal=="-"&&bVal=="-"){return a[0]-b[0];}else{if(aVal=="-"){return -1;}else{if(bVal=="-"){return 1;}}}return aVal-bVal;}}}}else{if(_uri=="fab50"){if(_sort==1){aVal=a[4].toLowerCase();bVal=b[4].toLowerCase();if(aVal==bVal){return a[0]-b[0];}else{if(aVal<bVal){return -1;}}return 1;}else{if(_sort==2){aVal=a[5];bVal=b[5];if(aVal=="-"&&bVal=="-"){return a[0]-b[0];}else{if(aVal=="-"){return -1;}else{if(bVal=="-"){return 1;}}}return aVal-bVal;}else{if(_sort==3){aVal=a[6];bVal=b[6];if(aVal=="-"&&bVal=="-"){return a[0]-b[0];}else{if(aVal=="-"){return -1;}else{if(bVal=="-"){return 1;}}}return aVal-bVal;}else{if(_sort==4){aVal=a[7].toLowerCase();bVal=b[7].toLowerCase();if(aVal==bVal){return a[0]-b[0];}else{if(aVal<bVal){return -1;}}return 1;}}}}}else{if(_uri=="innovative-companies"){if(_sort==1){return stringComp(2);}else{if(_sort==2){return stringComp(4);}else{if(_sort==3){return numberComp(5);}else{if(_sort==4){return numberComp(6);}else{if(_sort==5){return numberComp(7);}}}}}}else{if(_uri==="growth-companies"){if(_sort===1){return stringComp(2);}else{if(_sort===2){return numberComp(4);}else{if(_sort===3){return numberComp(5);}else{if(_sort===4){return numberComp(6);}else{if(_sort===5){return numberComp(7);}else{if(_sort===6){return stringComp(8);}}}}}}}else{if(_uri=="mlb-valuations"||_uri=="nba-valuations"||_uri=="nfl-valuations"||_uri=="nhl-valuations"||_uri=="soccer-valuations"){if(_sort==1){return stringComp(2);}else{if(_sort==2){return numberComp(3);}else{if(_sort==3){return numberComp(4);}else{if(_sort==4){return numberComp(5);}else{if(_sort==5){return numberComp(6);}else{if(_sort==6){return numberComp(7);}}}}}}}else{if(_uri=="forbes-400"){if(_sort==1){return nameComp(4,3);}else{if(_sort==2){return numberComp(6);}else{if(_sort==3){return numberComp(7);}else{if(_sort==4){return numberComp(8);}else{if(_sort==5){return numberComp(9);}else{if(_sort==6){return nameComp(10,11);}else{if(_sort==7){return stringComp(13);}}}}}}}}else{if(_uri=="powerful-brands"){if(_sort==1){return stringComp(2);}else{if(_sort==2){return numberComp(4);}else{if(_sort==3){return numberComp(5);}else{if(_sort==4){return numberComp(6);}else{if(_sort==5){return numberComp(7);}else{if(_sort==6){return stringComp(8);}}}}}}}else{if(_uri=="china-billionaires"||_uri=="hong-kong-billionaires"||_uri=="australia-billionaires"||_uri=="malaysia-billionaires"){if(_sort==1){return nameComp(4,3);}else{if(_sort==2){return numberComp(7);}else{if(_sort==3){return numberComp(6);}else{if(_sort==4){return stringComp(8);}}}}}else{if(_uri=="best-small-companies"){if(_sort==1){return stringComp(2);}else{if(_sort==2){return numberComp(4);}else{if(_sort==3){return numberComp(5);}else{if(_sort==4){return numberComp(6);}else{if(_sort==5){return numberComp(7);}}}}}}else{if(_uri=="india-billionaires"){if(_sort==1){return nameComp(4,3);}else{if(_sort==2){return numberComp(7);}else{if(_sort==3){return numberComp(6);}else{if(_sort==4){return stringComp(8);}}}}}else{if(_uri=="top-charities"){if(_sort==1){return stringComp(2);}else{if(_sort==2){return numberComp(4);}else{if(_sort==3){return numberComp(5);}else{if(_sort==4){return numberComp(6);}else{if(_sort==5){return numberComp(7);}else{if(_sort==6){return numberComp(8);}}}}}}}else{if(_uri=="best-countries-for-business"){if(_sort==1){return stringComp(2);}else{if(_sort==2){return numberComp(4);}else{if(_sort==3){return numberComp(5);}else{if(_sort==4){return numberComp(6);}else{if(_sort==5){return numberComp(7);}}}}}}else{if(_uri=="africa-billionaires"||_uri=="indonesia-billionaires"||_uri=="philippines-billionaires"||_uri=="japan-billionaires"||_uri=="korea-billionaires"||_uri=="singapore-billionaires"||_uri=="taiwan-billionaires"){if(_sort==1){return nameComp(4,3);}else{if(_sort==2){return numberComp(7);}else{if(_sort==3){return numberComp(6);}}}}else{if(_uri=="largest-private-companies"||_uri=="most-promising-companies"){if(_sort==1){return stringComp(2);}else{if(_sort==2){return stringComp(4);}else{if(_sort==3){return stringComp(5);}else{if(_sort==4){return numberComp(6);}else{if(_sort==5){return numberComp(7);}}}}}}else{if(_uri=="best-states-for-business"){if(_sort==1){return stringComp(2);}else{if(_sort==2){return numberComp(4);}else{if(_sort==3){return numberComp(5);}else{if(_sort==4){return numberComp(6);}else{if(_sort==5){return numberComp(7);}else{if(_sort==6){return numberComp(8);}else{if(_sort==7){return numberComp(9);}else{if(_sort==8){return numberComp(10);}}}}}}}}}else{if(_uri=="powerful-people"){if(_sort==1){return nameComp(4,3);}else{if(_sort==2){return stringComp(7);}else{if(_sort==3){return numberComp(6);}}}}else{if(_uri=="hedge-fund-managers"){if(_sort==1){return nameComp(4,3);}else{if(_sort==2){return stringComp(7);}else{if(_sort==3){return numberComp(6);}}}}else{if(_uri=="billionaires"){if(_sort==1){return nameComp(4,3);}else{if(_sort==2){return numberComp(7);}else{if(_sort==3){return numberComp(6);}else{if(_sort==4){return stringComp(8);}else{if(_sort==5){return stringComp(9);}}}}}}else{if(_uri=="nascar-valuations"){if(_sort==1){return stringComp(2);}else{if(_sort==2){return numberComp(3);}else{if(_sort==3){return numberComp(4);}else{if(_sort==4){return numberComp(5);}else{if(_sort==5){return numberComp(6);}}}}}}else{if(_uri=="global2000"){if(_sort==1){return stringComp(2);}else{if(_sort==2){return stringComp(9);}else{if(_sort==3){return numberComp(5);}else{if(_sort==4){return numberComp(6);}else{if(_sort==5){return numberComp(7);}else{if(_sort==6){return numberComp(8);}}}}}}}else{if(_uri=="midas"){if(_sort==1){return nameComp(4,3);}else{if(_sort==2){return stringComp(6);}else{if(_sort==3){return stringComp(7);}}}}else{if(_uri=="athletes"){if(_sort===1){return nameComp(4,3);}else{if(_sort>1&&_sort<5){return numberComp(_sort+4);}else{if(_sort==5){return stringComp(9);}}}}else{if(_uri=="celebrities"){if(_sort==1){return nameComp(4,3);}else{if(_sort>=2&&_sort<=7){return numberComp(_sort+4);}}}else{if(_uri=="asia200"){if(_sort==0){return stringComp(2);}else{if(_sort==1){return stringComp(3);}else{if(_sort==2){return numberComp(4);}else{if(_sort==3){return numberComp(5);}else{if(_sort==4){return numberComp(6);}}}}}}else{if(_uri=="best-places-for-business"||_uri=="best-small-places-for-business"){if(_sort===1){return stringComp(2);}else{if(_sort===2){return numberComp(4);}else{if(_sort===3){return numberComp(5);}else{if(_sort===4){return numberComp(6);}else{if(_sort===5){return numberComp(7);}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}function stringComp(index){aVal=a[index].toLowerCase();bVal=b[index].toLowerCase();if(aVal==bVal){return a[0]-b[0];}else{if(aVal<bVal){return -1;}}return 1;}function nameComp(primary_index,secondary_index){aVal=a[primary_index].toLowerCase();bVal=b[primary_index].toLowerCase();if(aVal==bVal){aVal=a[secondary_index];bVal=b[secondary_index];if(aVal==bVal){return a[0]-b[0];}else{if(aVal<bVal){return -1;}}return 1;}else{if(aVal<bVal){return -1;}}return 1;}function numberComp(index){aVal=a[index];if(typeof(aVal)!="number"){aVal=aVal.replace(/[^0-9.-]/g,"");}bVal=b[index];if(typeof(bVal)!="number"){bVal=bVal.replace(/[^0-9.-]/g,"");}if(aVal==bVal){return a[0]-b[0];}else{if(aVal=="-"){return -1;}else{if(bVal=="-"){return 1;}}}return aVal-bVal;}}}function update_table_head(){$(".lhead").removeClass("active asc desc");var classes="active "+(_ascend?"asc":"desc");$(".lhead").eq(_sort).addClass(classes);if(_uri=="forbes-400"){if(_filter_selections[2]=="Wealth Gained"||_filter_selections[2]=="Wealth Lost"){$("#listhead th:nth-child(4)").show();$("#listhead th:nth-child(5)").show();}else{$("#listhead th:nth-child(4)").hide();$("#listhead th:nth-child(5)").hide();}}}function display_entities(){var i;var entities_to_show=[];for(i=(_current_page-1)*_amount_to_display;i<(_current_page*_amount_to_display)&&i<_matching_entities.length;i++){entities_to_show.push(_matching_entities[i]);}if(entities_to_show.length<1){var colspan=6;var html='<tr id="no_results"><td colspan="'+colspan+'">No results match your criteria. Please try your search again.</td></tr>';$("#listbody").html(html);}else{var send={entities:entities_to_show};if(_uri=="top-colleges"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  <td class="company"><a href="/colleges/<%=entities[i][1]%>/">    <img src="http://i.forbesimg.com/media/lists/colleges/<%=entities[i][3]%>_50x50.jpg" alt="<%=entities[i][2]%>">    <h3><%=entities[i][2]%></h3>  </a></td>  <td><%=entities[i][4]%></td>  <td><%=entities[i][5]%></td>  <td><%=entities[i][6]%></td></tr><% } %>',send);}else{if(_uri=="business-schools"||_uri=="best-foreign-business-schools"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  <td class="company"><a href="/colleges/<%=entities[i][1]%>/">    <h3><%=entities[i][2]%></h3>  <td><%=entities[i][11]%><%=entities[i][4]%></td>  <td><%=entities[i][5]%></td>  <td><%=entities[i][6]%></td>  <td><%=entities[i][7]%></td>  <td><%=entities[i][8]%></td>  <td><%=entities[i][9]%></td>  <td><%=entities[i][10]%></td></tr><% } %>',send);}else{if(_uri=="power-women"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][1]%></td>  	<td class="company"><a href="/profile/<%=entities[i][2]%>/">  		<img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="<%=entities[i][3]%>">  		<h3><%=entities[i][3]%></h3><h4><%=entities[i][7]%></h4></a>  	</td>  	<td><%=entities[i][6]%></td>  	<td><%=entities[i][8]%></td>  	<td><%=entities[i][9]%></td></tr><% } %>',send);}else{if(_uri=="fab50"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  	<td class="company"><a href="/companies/<%=entities[i][1]%>/">  		<img src="http://i.forbesimg.com/media/lists/companies/<%=entities[i][3]%>_50x50.jpg" alt="<%=entities[i][2]%>">  		<h3><%=entities[i][2]%></h3></a>  	</td>  	<td><%=entities[i][4]%></td>  	<td><%=entities[i][5]%></td>  	<td><%=entities[i][6]%></td>  	<td><%=entities[i][7]%></td></tr><% } %>',send);}else{if(_uri=="innovative-companies"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  	<td class="company"><a href="/companies/<%=entities[i][1]%>/">  		<img src="http://i.forbesimg.com/media/lists/companies/<%=entities[i][3]%>_50x50.jpg" alt="<%=entities[i][2]%>">  		<h3><%=entities[i][2]%></h3></a>  	</td>  	<td><%=entities[i][4]%></td>  	<td><%=entities[i][5]%></td>  	<td><%=entities[i][6]%></td>  	<td><%=entities[i][7]%></td></tr><% } %>',send);}else{if(_uri=="growth-companies"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  	<td class="company"><a href="/companies/<%=entities[i][1]%>/">  		<img src="http://i.forbesimg.com/media/lists/companies/<%=entities[i][3]%>_50x50.jpg" alt="<%=entities[i][2]%>">  		<h3><%=entities[i][2]%></h3></a>  	</td>  	<td><%=entities[i][4]%></td>  	<td><%=entities[i][5]%></td>  	<td><%=entities[i][6]%></td>  	<td><%=entities[i][7]%></td>  	<td><%=entities[i][8]%></td></tr><% } %>',send);}else{if(_uri=="mlb-valuations"||_uri=="nhl-valuations"||_uri=="nfl-valuations"||_uri=="nba-valuations"||_uri=="soccer-valuations"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  	<td><a href="/teams/<%=entities[i][1]%>/">  		<h3><%=entities[i][2]%></h3></a>  	</td>  	<td><%=entities[i][3]%></td>  	<td><%=entities[i][4]%></td>  	<td><%=entities[i][5]%></td>  	<td><%=entities[i][6]%></td>  	<td><%=entities[i][7]%></td></tr><% } %>',send);}else{if(_uri=="forbes-400"){var forbes400_template='<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][1]%></td>  	<td class="company"><a href="/profile/<%=entities[i][2]%>/">  		<img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="<%=entities[i][3]%>">  		<h3><%=entities[i][3]%></h3></h4></a>  	</td>   <td class="worth">$<%=entities[i][6]%> B</td>';if(_filter_selections[2]=="Wealth Gained"){forbes400_template+='<td class="change up"><%=entities[i][7]%> B</td>  <td class="change up"><%=entities[i][8]%>%</td>';}else{if(_filter_selections[2]=="Wealth Lost"){forbes400_template+='<td class="change down"><%=entities[i][7]%> B</td>  <td class="change down"><%=entities[i][8]%>%</td>';}}forbes400_template+="  	<td><%=entities[i][9]%></td>  	<td><%=entities[i][11]%></td>  	<td><%=entities[i][13]%></td></tr><% } %>";html=tmpl(forbes400_template,send);}else{if(_uri=="powerful-brands"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  <td class="company"><a href="/companies/<%=entities[i][1]%>/">     <img src="http://i.forbesimg.com/media/lists/companies/<%=entities[i][3]%>_50x50.jpg" alt="<%=entities[i][2]%>">  	  <h3><%=entities[i][2]%></h3></a>  </td>  <td><%=entities[i][4]%></td>  <td><%=entities[i][5]%></td>  <td><%=entities[i][6]%></td>  <td><%=entities[i][7]%></td>  <td><%=entities[i][8]%></td></tr><% } %>',send);}else{if(_uri=="china-billionaires"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][1]%></td>  <td class="company"><a href="/profile/<%=entities[i][2]%>/">     <img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="<%=entities[i][3]%>">  	  <h3><%=entities[i][3]%></h3></a>  </td>  <td class="worth"><%=entities[i][7]%></td>  <td><%=entities[i][6]%></td>  <td><%=entities[i][8]%></td></tr><% } %>',send);}else{if(_uri=="best-small-companies"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  <td class="company"><a href="/companies/<%=entities[i][1]%>/">     <img src="http://i.forbesimg.com/media/lists/companies/<%=entities[i][3]%>_50x50.jpg" alt="<%=entities[i][2]%>">  	  <h3><%=entities[i][2]%></h3></a>  </td>  <td>$<%=entities[i][4]%> M</td>  <td><%=entities[i][5]%>%</td>  <td><%=entities[i][6]%>%</td>  <td><%=entities[i][7]%>%</td></tr><% } %>',send);}else{if(_uri=="india-billionaires"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][1]%></td>  <td class="company"><a href="/profile/<%=entities[i][2]%>/">     <img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="<%=entities[i][3]%>">  	  <h3><%=entities[i][3]%></h3></a>  </td>  <td class="worth"><%=entities[i][7]%></td>  <td><%=entities[i][6]%></td>  <td><%=entities[i][8]%></td></tr><% } %>',send);}else{if(_uri=="best-countries-for-business"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  <td class="company"><a href="/places/<%=entities[i][1]%>/">     <img src="http://i.forbesimg.com/media/lists/places/<%=entities[i][3]%>_50x50.jpg" alt="<%=entities[i][2]%>">  	  <h3><%=entities[i][2]%></h3></a>  </td>  <td><%=entities[i][4]%></td>  <td><%=entities[i][5]%></td>  <td><%=entities[i][6]%></td>  <td><%=entities[i][7]%></td></tr><% } %>',send);}else{if(_uri=="top-charities"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  <td class="company"><a href="/companies/<%=entities[i][1]%>/">     <img src="http://i.forbesimg.com/media/lists/companies/<%=entities[i][3]%>_50x50.jpg" alt="<%=entities[i][2]%>">  	  <h3><%=entities[i][2]%></h3></a>  </td>  <td><%=entities[i][4]%></td>  <td><%=entities[i][5]%></td>  <td><%=entities[i][6]%></td>  <td><%=entities[i][7]%></td>  <td><%=entities[i][8]%></td></tr><% } %>',send);}else{if(_uri=="africa-billionaires"||_uri=="indonesia-billionaires"||_uri=="korea-billionaires"||_uri=="philippines-billionaires"||_uri=="singapore-billionaires"||_uri=="taiwan-billionaires"||_uri=="thailand-billionaires"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][1]%></td>  <td class="company"><a href="/profile/<%=entities[i][2]%>/">    <img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="">    <h3><%=entities[i][3]%></h3></a>  </td>  <td>$<%=entities[i][7]%> M</td>  <td><%=entities[i][6]%></td></tr><% } %>',send);}else{if(_uri=="japan-billionaires"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][1]%></td>  <td class="company"><a href="/profile/<%=entities[i][2]%>/">     <img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="<%=entities[i][3]%>">  	  <h3><%=entities[i][3]%></h3></a>  </td>  <td><%=entities[i][7]%></td>  <td><%=entities[i][6]%></td></tr><% } %>',send);}else{if(_uri=="largest-private-companies"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  <td class="company"><a href="/companies/<%=entities[i][1]%>/">     <img src="http://i.forbesimg.com/media/lists/companies/<%=entities[i][3]%>_50x50.jpg" alt="<%=entities[i][2]%>">  	  <h3><%=entities[i][2]%>  	  <% if(entities[i][9]) { %><sup><%=entities[i][9]%></sup><% } %>  </h3></a>  </td>  <td><%=entities[i][4]%></td>  <td><%=entities[i][5]%></td>  <td><%=entities[i][6]%><% if(entities[i][8]) { %><sup><%=entities[i][8]%></sup><% } %></td>  <td><%=entities[i][7]%></td></tr><% } %>',send);}else{if(_uri=="best-states-for-business"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  <td class="company"><a href="/places/<%=entities[i][1]%>/">     <img src="http://i.forbesimg.com/media/lists/places/<%=entities[i][3]%>_50x50.jpg" alt="<%=entities[i][2]%>">  	  <h3><%=entities[i][2]%></h3></a>  </td>  <td><%=entities[i][4]%></td>  <td><%=entities[i][5]%></td>  <td><%=entities[i][6]%></td>  <td><%=entities[i][7]%></td>  <td><%=entities[i][8]%></td>  <td><%=entities[i][9]%></td>  <td><%=entities[i][10]%></td></tr><% } %>',send);}else{if(_uri=="powerful-people"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][1]%></td>  <td class="company"><a href="/profile/<%=entities[i][2]%>/">    <img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="<%=entities[i][3]%>">    <h3><%=entities[i][3]%></h3>    <h4><%=entities[i][8]%></h4>  </a></td>  <td><%=entities[i][7]%></td>  <td><%=entities[i][6]%></td></tr><% } %>',send);}else{if(_uri=="hedge-fund-managers"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][1]%></td>  <td class="company"><a href="/profile/<%=entities[i][2]%>/">     <img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="<%=entities[i][3]%>">  	  <h3><%=entities[i][3]%></h3></a>  </td>  <td>$<%=entities[i][6]%></td>  <td><%=entities[i][7]%></td></tr><% } %>',send);}else{if(_uri=="australia-billionaires"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][1]%></td>  <td class="company"><a href="/profile/<%=entities[i][2]%>/">     <img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="<%=entities[i][3]%>">  	  <h3><%=entities[i][3]%></h3></a>  </td>  <td class="worth">$<%=entities[i][7]%> B</td>  <td><%=entities[i][6]%></td>  <td><%=entities[i][8]%></td></tr><% } %>',send);}else{if(_uri=="malaysia-billionaires"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][1]%></td>  <td class="company"><a href="/profile/<%=entities[i][2]%>/">     <img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="<%=entities[i][3]%>">  	  <h3><%=entities[i][3]%></h3></a>  </td>  <td class="worth">$<%=entities[i][7]%> M</td>  <td><%=entities[i][6]%></td>  <td><%=entities[i][8]%></td></tr><% } %>',send);}else{if(_uri=="hong-kong-billionaires"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][1]%></td>  <td class="company"><a href="/profile/<%=entities[i][2]%>/">     <img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="<%=entities[i][3]%>">  	  <h3><%=entities[i][3]%></h3></a>  </td>  <td class="worth">$<%=entities[i][7]%> B</td>  <td><%=entities[i][6]%></td>  <td><%=entities[i][8]%></td></tr><% } %>',send);}else{if(_uri=="most-promising-companies"){var revenue="<% if((''+entities[i][6]).replace(/,/g, '') < 1000000) { %>$<%=entities[i][6]%> <%} else if (!isNaN(entities[i][6] / 1000000)) {%>$<%=entities[i][6] / 1000000%> M<%} else { %> - <% }%>";html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  <td class="company"><a href="/companies/<%=entities[i][1]%>/">     <img src="http://i.forbesimg.com/media/lists/companies/<%=entities[i][3]%>_50x50.jpg" alt="<%=entities[i][2]%>">  	  <h3><%=entities[i][2]%></h3></a>  </td>  <td><%=entities[i][4]%></td>  <td><%=entities[i][5]%></td>  <td>'+revenue+"</td>  <td><%=entities[i][7]%></td></tr><% } %>",send);}else{if(_uri=="billionaires"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][1]%></td>  <td class="company"><a href="/profile/<%=entities[i][2]%>/">    <img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="">    <h3><%=entities[i][3]%></h3>  </a></td>  <td class="worth">$<%=entities[i][7]%> B</td>  <td><%=entities[i][6]%></td>  <td><%=entities[i][8]%></td>  <td><%=entities[i][9]%></td></tr><% } %>',send);}else{if(_uri=="nascar-valuations"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  <td><a href="/teams/<%=entities[i][1]%>/">    <h3><%=entities[i][2]%></h3>  </a></td>  <td class="nowrap"><%=entities[i][3]%></td>  <td class="nowrap"><%=entities[i][4]%></td>  <td class="nowrap"><%=entities[i][5]%></td>  <td class="nowrap"><%=entities[i][6]%></td></tr><% } %>',send);}else{if(_uri=="global2000"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  <td class="company"><a href="/companies/<%=entities[i][1]%>/">    <img src="http://i.forbesimg.com/media/lists/companies/<%=entities[i][3]%>_50x50.jpg" alt="<%=entities[i][2]%>">    <h3><%=entities[i][2]%></h3></a>  </td>  <td><%=entities[i][9]%></td>  <td class="nowrap">$<%=entities[i][5]%> B  <td class="nowrap">$<%=entities[i][6]%> B  <td class="nowrap">$<%=entities[i][7]%> B  <td class="nowrap">$<%=entities[i][8]%> B</tr><% } %>',send);}else{if(_uri=="midas"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][1]%></td>  <td class="company"><a href="/profile/<%=entities[i][2]%>/">    <img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="">    <h3><%=entities[i][3]%></h3>  </a></td>  <td><%=entities[i][6]%></td>  <td><%=entities[i][7]%></td></tr><% } %>',send);}else{if(_uri=="athletes"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][1]%></td>  <td class="company"><a href="/profile/<%=entities[i][2]%>/">    <img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="">    <h3><%=entities[i][3]%></h3>  </a></td>  <% if(entities[i][6] == "-") { %>	  <td>-</td>  <% } else { %>	  <td>$<%=entities[i][6]%> M</td>  <% } %>  <% if(entities[i][7] == "-") { %>	  <td>-</td>  <% } else { %>	  <td>$<%=entities[i][7]%> M</td>  <% } %>  <% if(entities[i][8] == "-") { %>	  <td>-</td>  <% } else { %>	  <td>$<%=entities[i][8]%> M</td>  <% } %>  <td><%=entities[i][9]%></td></tr><% } %>',send);}else{if(_uri=="celebrities"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  <td class="company"><a href="/profile/<%=entities[i][2]%>/">    <img src="http://i.forbesimg.com/media/lists/people/<%=entities[i][5]%>_50x50.jpg" alt="">    <h3><%=entities[i][3]%></h3>  </a></td>  <td class="nowrap">$<%=entities[i][6]%> M</td>  <td class="nowrap"><%=entities[i][7]%></td>  <td class="nowrap"><%=entities[i][8]%></td>  <td class="nowrap"><%=entities[i][9]%></td>  <td class="nowrap"><%=entities[i][10]%></td>  <td class="nowrap"><%=entities[i][11]%></td></tr><% } %>',send);}else{if(_uri=="asia200"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="company"><a href="/companies/<%=entities[i][0]%>/">  <img src="http://i.forbesimg.com/media/lists/companies/<%=entities[i][1]%>_50x50.jpg" alt="">    <h3><%=entities[i][2]%></h3>  </a></td>  <td><%=entities[i][3]%></td>  <td><%=entities[i][4]%></td>  <td><%=entities[i][5]%></td>  <td><%=entities[i][6]%></td></tr><% } %>',send);}else{if(_uri=="best-places-for-business"||_uri=="best-small-places-for-business"){html=tmpl('<% for(var i=0;i<entities.length;i++) { %><tr>  <td class="rank"><%=entities[i][0]%></td>  <td class="company"><a href="/places/<%=entities[i][1]%>/">    <img src="http://i.forbesimg.com/media/lists/places/<%=entities[i][3]%>_50x50.jpg" alt="">    <h3><%=entities[i][2]%></h3>  </a></td>  <td class="main"><%=entities[i][4]%></td>  <td class="main"><%=entities[i][5]%></td>  <td class="main"><%=entities[i][6]%></td>  <td class="main"><%=entities[i][7]%></td></tr><% } %>',send);}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}$("#listbody").html(html);}show_pagination();var escaped_search=encodeURIComponent(_search).replace(/\./g,"%2E");var hash_value="page:"+_current_page+"_sort:"+_sort+"_direction:"+(_ascend?"asc":"desc")+"_search:"+escaped_search;for(i=0;i<_filter_ids.length;i++){hash_value+="_filter:"+encodeURIComponent(_filter_selections[i]);}if(_search!=""){$("#search_filter").val(_search);}else{if(!$("#search_filter").is(":focus")){$("#search_filter").val("Search");}}handle_hash.save(hash_value);}function tmpl(str,data){var fn=!/\W/.test(str)?cache[str]=cache[str]||tmpl(document.getElementById(str).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+str.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return data?fn(data):fn;}function display_filters(){var filter_html,selected;if(_uri=="top-colleges"||_uri=="business-schools"){selected=$.inArray(_filter_selections[0],_filter_values[0]);if(selected===-1&&_filter_selections[0]!=="All states"){_filter_values[0].push(_filter_selections[0]);}_filter_values[0].sort();_filter_values[0].unshift("All states");selected=$.inArray(_filter_selections[0],_filter_values[0]);filter_html="";for(var i=0;i<_filter_values[0].length;i++){filter_html+="<option>"+_filter_values[0][i]+"</option>";}$("#"+_filter_ids[0]+" > select").html(filter_html);$("#"+_filter_ids[0]+" > select").prop("selectedIndex",selected);}else{if(_uri=="best-foreign-business-schools"){selected=$.inArray(_filter_selections[0],_filter_values[0]);if(selected===-1&&_filter_selections[0]!=="All countries"){_filter_values[0].push(_filter_selections[0]);}_filter_values[0].sort();_filter_values[0].unshift("All countries");selected=$.inArray(_filter_selections[0],_filter_values[0]);filter_html="";for(var i=0;i<_filter_values[0].length;i++){filter_html+="<option>"+_filter_values[0][i]+"</option>";}$("#"+_filter_ids[0]+" > select").html(filter_html);$("#"+_filter_ids[0]+" > select").prop("selectedIndex",selected);}else{if(_uri=="innovative-companies"){selected=$.inArray(_filter_selections[0],_filter_values[0]);if(selected===-1&&_filter_selections[0]!=="All regions"){_filter_values[0].push(_filter_selections[0]);}_filter_values[0].sort();_filter_values[0].unshift("All regions");selected=$.inArray(_filter_selections[0],_filter_values[0]);filter_html="";for(var i=0;i<_filter_values[0].length;i++){filter_html+="<option>"+_filter_values[0][i]+"</option>";}$("#"+_filter_ids[0]+" > select").html(filter_html);$("#"+_filter_ids[0]+" > select").prop("selectedIndex",selected);selected=$.inArray(_filter_selections[1],_filter_values[1]);if(selected===-1&&_filter_selections[1]!=="All industries"){_filter_values[1].push(_filter_selections[1]);}_filter_values[1].sort();_filter_values[1].unshift("All industries");selected=$.inArray(_filter_selections[1],_filter_values[1]);filter_html="";for(var i=0;i<_filter_values[1].length;i++){filter_html+="<option>"+_filter_values[1][i]+"</option>";}$("#"+_filter_ids[1]+" > select").html(filter_html);$("#"+_filter_ids[1]+" > select").prop("selectedIndex",selected);}else{if(_uri=="forbes-400"){selected=$.inArray(_filter_selections[0],_filter_values[0]);if(selected===-1&&_filter_selections[0]!=="All industries"){_filter_values[0].push(_filter_selections[0]);}_filter_values[0].sort();_filter_values[0].unshift("All industries");selected=$.inArray(_filter_selections[0],_filter_values[0]);filter_html="";for(var i=0;i<_filter_values[0].length;i++){filter_html+="<option>"+_filter_values[0][i]+"</option>";}$("#"+_filter_ids[0]+" > select").html(filter_html);$("#"+_filter_ids[0]+" > select").prop("selectedIndex",selected);selected=$.inArray(_filter_selections[1],_filter_values[1]);if(selected===-1&&_filter_selections[1]!=="All states"){_filter_values[1].push(_filter_selections[1]);}_filter_values[1].sort();_filter_values[1].unshift("All states");selected=$.inArray(_filter_selections[1],_filter_values[1]);filter_html="";for(var i=0;i<_filter_values[1].length;i++){filter_html+="<option>"+_filter_values[1][i]+"</option>";}$("#"+_filter_ids[1]+" > select").html(filter_html);$("#"+_filter_ids[1]+" > select").prop("selectedIndex",selected);filter_html="<option val = 'All categories'>All categories</option>";if(_filter_values[2][0]){filter_html+="<option val = 'Newcomers'>Newcomers</option>";}if(_filter_values[2][1]){filter_html+="<option val = 'Self-Made'>Self-Made</option>";}if(_filter_values[2][2]){filter_html+="<option val = 'Wealth Gained'>Wealth Gained</option>";}if(_filter_values[2][3]){filter_html+="<option val = 'Wealth Lost'>Wealth Lost</option>";}if(_filter_values[2][4]){filter_html+="<option val = 'Women'>Women</option>";}$("#"+_filter_ids[2]+" > select").html(filter_html);if($.inArray(_filter_selections[2],_filter_values[2])===-1){_filter_selections[2]="All categories";}$("#category > select").val(_filter_selections[2]).prop("selected","selected");}else{if(_uri=="best-small-companies"){selected=$.inArray(_filter_selections[0],_filter_values[0]);if(selected===-1&&_filter_selections[0]!=="All industries"){_filter_values[0].push(_filter_selections[0]);}_filter_values[0].sort();_filter_values[0].unshift("All industries");selected=$.inArray(_filter_selections[0],_filter_values[0]);filter_html="";for(var i=0;i<_filter_values[0].length;i++){filter_html+="<option>"+_filter_values[0][i]+"</option>";}$("#"+_filter_ids[0]+" > select").html(filter_html);$("#"+_filter_ids[0]+" > select").prop("selectedIndex",selected);selected=$.inArray(_filter_selections[1],_filter_values[1]);if(selected===-1&&_filter_selections[1]!=="All states"){_filter_values[1].push(_filter_selections[1]);}_filter_values[1].sort();_filter_values[1].unshift("All states");selected=$.inArray(_filter_selections[1],_filter_values[1]);filter_html="";for(var i=0;i<_filter_values[1].length;i++){filter_html+="<option>"+_filter_values[1][i]+"</option>";}$("#"+_filter_ids[1]+" > select").html(filter_html);$("#"+_filter_ids[1]+" > select").prop("selectedIndex",selected);}else{if(_uri=="top-charities"){selected=$.inArray(_filter_selections[0],_filter_values[0]);if(selected===-1&&_filter_selections[0]!=="All categories"){_filter_values[0].push(_filter_selections[0]);}_filter_values[0].sort();_filter_values[0].unshift("All categories");selected=$.inArray(_filter_selections[0],_filter_values[0]);filter_html="";for(var i=0;i<_filter_values[0].length;i++){filter_html+="<option>"+_filter_values[0][i]+"</option>";}$("#"+_filter_ids[0]+" > select").html(filter_html);$("#"+_filter_ids[0]+" > select").prop("selectedIndex",selected);}else{if(_uri=="powerful-people"){selected=$.inArray(_filter_selections[0],_filter_values[0]);if(selected===-1&&_filter_selections[0]!=="All countries"){_filter_values[0].push(_filter_selections[0]);}_filter_values[0].sort();_filter_values[0].unshift("All countries");selected=$.inArray(_filter_selections[0],_filter_values[0]);filter_html="";for(var i=0;i<_filter_values[0].length;i++){filter_html+="<option>"+_filter_values[0][i]+"</option>";}$("#"+_filter_ids[0]+" > select").html(filter_html);$("#"+_filter_ids[0]+" > select").prop("selectedIndex",selected);selected=$.inArray(_filter_selections[1],_filter_values[1]);if(selected===-1&&_filter_selections[1]!=="All categories"){_filter_values[1].push(_filter_selections[1]);}_filter_values[1].sort();_filter_values[1].unshift("All categories");selected=$.inArray(_filter_selections[1],_filter_values[1]);filter_html="";for(var i=0;i<_filter_values[1].length;i++){filter_html+="<option>"+_filter_values[1][i]+"</option>";}$("#"+_filter_ids[1]+" > select").html(filter_html);$("#"+_filter_ids[1]+" > select").prop("selectedIndex",selected);}else{if(_uri=="billionaires"||_uri=="global2000"){selected=$.inArray(_filter_selections[0],_filter_values[0]);if(selected===-1&&_filter_selections[0]!=="All industries"){_filter_values[0].push(_filter_selections[0]);}_filter_values[0].sort();_filter_values[0].unshift("All industries");selected=$.inArray(_filter_selections[0],_filter_values[0]);filter_html="";for(var i=0;i<_filter_values[0].length;i++){filter_html+="<option>"+_filter_values[0][i]+"</option>";}$("#"+_filter_ids[0]+" > select").html(filter_html);$("#"+_filter_ids[0]+" > select").prop("selectedIndex",selected);selected=$.inArray(_filter_selections[1],_filter_values[1]);if(selected===-1&&_filter_selections[1]!=="All countries"){_filter_values[1].push(_filter_selections[1]);}_filter_values[1].sort();_filter_values[1].unshift("All countries");selected=$.inArray(_filter_selections[1],_filter_values[1]);filter_html="";for(var i=0;i<_filter_values[1].length;i++){filter_html+="<option>"+_filter_values[1][i]+"</option>";}$("#"+_filter_ids[1]+" > select").html(filter_html);$("#"+_filter_ids[1]+" > select").prop("selectedIndex",selected);selected=$.inArray(_filter_selections[2],_filter_values[2]);if(selected===-1&&_filter_selections[2]!=="All states"){_filter_values[2].push(_filter_selections[2]);}_filter_values[2].sort();_filter_values[2].unshift("All states");selected=$.inArray(_filter_selections[2],_filter_values[2]);filter_html="";for(var i=0;i<_filter_values[2].length;i++){filter_html+="<option>"+_filter_values[2][i]+"</option>";}$("#"+_filter_ids[2]+" > select").html(filter_html);$("#"+_filter_ids[2]+" > select").prop("selectedIndex",selected);}else{if(_uri=="celebrities"){selected=$.inArray(_filter_selections[0],_filter_values[0]);if(selected===-1&&_filter_selections[0]!=="All categories"){_filter_values[0].push(_filter_selections[0]);}_filter_values[0].sort();_filter_values[0].unshift("All categories");selected=$.inArray(_filter_selections[0],_filter_values[0]);filter_html="";for(var i=0;i<_filter_values[0].length;i++){filter_html+="<option>"+_filter_values[0][i]+"</option>";}$("#"+_filter_ids[0]+" > select").html(filter_html);$("#"+_filter_ids[0]+" > select").prop("selectedIndex",selected);}else{if(_uri=="asia200"){selected=$.inArray(_filter_selections[0],_filter_values[0]);if(selected===-1&&_filter_selections[0]!=="All industries"){_filter_values[0].push(_filter_selections[0]);}_filter_values[0].sort();_filter_values[0].unshift("All industries");selected=$.inArray(_filter_selections[0],_filter_values[0]);filter_html="";for(var i=0;i<_filter_values[0].length;i++){filter_html+="<option>"+_filter_values[0][i]+"</option>";}$("#"+_filter_ids[0]+" > select").html(filter_html);$("#"+_filter_ids[0]+" > select").prop("selectedIndex",selected);selected=$.inArray(_filter_selections[1],_filter_values[1]);if(selected===-1&&_filter_selections[1]!=="All countries"){_filter_values[1].push(_filter_selections[1]);}_filter_values[1].sort();_filter_values[1].unshift("All countries");selected=$.inArray(_filter_selections[1],_filter_values[1]);filter_html="";for(var i=0;i<_filter_values[1].length;i++){filter_html+="<option>"+_filter_values[1][i]+"</option>";}$("#"+_filter_ids[1]+" > select").html(filter_html);$("#"+_filter_ids[1]+" > select").prop("selectedIndex",selected);}else{if(_uri=="best-places-for-business"||_uri=="best-small-places-for-business"){selected=$.inArray(_filter_selections[0],_filter_values[0]);if(selected===-1&&_filter_selections[0]!=="All states"){_filter_values[0].push(_filter_selections[0]);}_filter_values[0].sort();_filter_values[0].unshift("All states");selected=$.inArray(_filter_selections[0],_filter_values[0]);filter_html="";for(var i=0;i<_filter_values[0].length;i++){filter_html+="<option>"+_filter_values[0][i]+"</option>";}$("#"+_filter_ids[0]+" > select").html(filter_html);$("#"+_filter_ids[0]+" > select").prop("selectedIndex",selected);}}}}}}}}}}}}function show_pagination(){function add_page(page,current){if(page>=1){if(page==current){return'<li class="active"><a>'+page+"</a></li>";}else{return"<li><a>"+page+"</a></li>";}}else{return"";}}var pages=Math.ceil(_size_of_list/_amount_to_display);if(pages<2){$(".pagination").html("");return;}var out="";out="<a"+(_current_page==1||pages<1?' class="iconoverlay back disabled">&laquo; Back<span class="icon disabled"><b></b></span>':' class="iconoverlay back">&laquo; Back<span class="icon"><b></b></span>')+"</a><a"+(_current_page==pages||pages<1?' class="iconoverlay next disabled">Next &raquo;<span class="icon disabled"><b></b></span>':' class="iconoverlay next">Next &raquo;<span class="icon"><b></b></span>')+'</a><ul class="paginate clearfix">';if(pages>1){out+=add_page(1,_current_page);}var i=_current_page-2;if(pages-i<8){i=pages-7;}var shown=1;if(i>3){out+='<li class="disabled">&hellip;</li>';shown++;}else{i=2;}while(i<pages&&shown++<=8){out+=add_page(i,_current_page);i++;if(shown>7&&i<pages-1){out+='<li class="disabled">&hellip;</li>';break;}}out+=add_page(pages,_current_page);out+="</ul>";$(".pagination").html(out);menu();}function menu(){var nav=$("ul.paginate"),numMenuItems=$("> li",nav).size(),totalMenuItemWidth=0,menuWidthRemainder=0,wrapperWidth=560,maxNavItemWidth=200,priNavItems=new Array();$("> li",nav).each(function(i){totalMenuItemWidth+=$(this).width();priNavItems.push(($(this).width()>maxNavItemWidth)?maxNavItemWidth:$(this).width());});if(totalMenuItemWidth<wrapperWidth){menuWidthRemainder=wrapperWidth-totalMenuItemWidth;$("> li",nav).each(function(){var tmp_width=$(this).width();$(this).width(tmp_width+parseInt(menuWidthRemainder/numMenuItems));});tmp_width=$("> li:first",nav).width();$("> li:first",nav).width(tmp_width+(menuWidthRemainder%numMenuItems));}}function _debug(){var debug_string="";debug_string+="=== BASIC INFO ===\n";debug_string+="uri: "+_uri+"\n";debug_string+="year: "+_year+"\n";debug_string+="type: "+_type+"\n";debug_string+="size: "+$("#thelist").attr("data-size-of-list")+"\n";debug_string+="=== STATUS ===\n";debug_string+="entities have "+(_entities===false?"not ":"")+"been loaded\n";debug_string+="page: "+_current_page+"\n";debug_string+="sort column (zero indexed): "+_sort+"\n";debug_string+="sort direction: "+(_ascend?"ascending":"descending")+"\n";debug_string+="search text: "+_search+"\n";debug_string+="number matching: "+_matching_entities.length+"\n";forbes.util.debug(debug_string);}return{init:_init,debug:_debug};}($));return app;}(forbes||{},jQuery));forbes.bootstrap.register(forbes.lists.init);function loadScriptCallback(url,callback){var script=document.createElement("script");script.type="text/javascript";if(script.readyState){script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){script.onreadystatechange=null;callback();}};}else{script.onload=function(){callback();};}script.src=url;document.getElementsByTagName("head")[0].appendChild(script);}var publish_controls_fixed=false;$(document).ready(function(){if($("#sidebar_follower .shareholder").size()==0){return;}var orig_sidebar_top=$("#sidebar_follower .shareholder").position().top;$(window).scroll(function(){var viewportHeight=parseInt($(window).height());var pageScroll=parseInt($(document).scrollTop());var global_wrapper_top=$("#contentwrapper").position().top;share_button_positioning();if($.browser.msie&&parseInt($.browser.version)<8){var topOffset=430;}else{var topOffset=250;}if(pageScroll>($("footer").position().top-topOffset)){if(publish_controls_fixed){$("#sidebar_follower").css({position:"absolute",top:"0"});$("#sidebar_follower .shareholder").css({top:($("footer").position().top-425)+"px"});$("#gallerytemplate #sidebar_follower .shareholder").css({top:($("footer").position().top-365)+"px"});publish_controls_fixed=false;}}else{if(pageScroll>($("#contentwrapper").position().top+orig_sidebar_top-90)){$("#sidebar_follower").css({position:"fixed",top:"0"});if($.browser.msie&&parseInt($.browser.version)<8){$("#sidebar_follower .shareholder").css({top:"260px"});}else{$("#sidebar_follower .shareholder").css({top:"90px"});}publish_controls_fixed=true;}else{if(publish_controls_fixed){$("#sidebar_follower").css({position:"absolute",top:"0"});$("#sidebar_follower .shareholder").css({top:orig_sidebar_top+"px"});publish_controls_fixed=false;}}}});$(".shareholder").css("display","block");forbes_window_resizing();$(window).resize(function(){forbes_window_resizing();});$("#sharebutton").click(function(){share_button_positioning();});});function forbes_window_resizing(){if($(window).width()<1160){$("#sidebar_follower").hide();$("#abovefold .shareholder").show();}else{$("#sidebar_follower").show();$("#abovefold .shareholder").hide();}}function share_button_positioning(){if(publish_controls_fixed){$("#stwrapper").css({top:parseInt($("#sidebar_follower").offset().top+190)+"px"});}}var forbes=(function(app,$){app.external_intx_ad_manager=(function($){var debug=null,_debug_enabled=true,_library_loaded=false,_library_load_started=false,_library_loaded_int=null,_active_units=[];function _debug_wrapper(input){if(_debug_enabled){forbes.util.debug(input);}}function _init(){debug=forbes.util.debug;}function _load_library(callback){debug("load_library");if(_library_loaded){if(callback){callback();}return;}else{if(_library_load_started===true){return;}}_library_loaded_int=setInterval(function(){if(window.googletag){clearInterval(_library_loaded_int);_library_loaded=true;if(callback){callback();}}},100);_library_load_started=true;}function get_url_vars(){var vars={},parts=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,value){vars[key]=value;});return vars;}function _init_publisher_tag(adslot_array){googletag.cmd.push(function(){pa=googletag.pubads();var unitName="/7175/fdc.forbes/";var window_url=window.location.pathname.split("/");var directory=window_url[1];if(directory==="sites"){var google_tag_swimlane=get_url_vars()["ss"];}if(typeof google_tag_channel!=="undefined"){googletag.pubads().setTargeting("channel",google_tag_channel);debug("SET traget channel"+google_tag_channel);}if(typeof google_tag_section!=="undefined"){googletag.pubads().setTargeting("section",google_tag_section);debug("SET traget section"+google_tag_section);}if(typeof google_tag_swimlane!=="undefined"){googletag.pubads().setTargeting("swimlane",google_tag_swimlane);debug("SET traget swimlane"+google_tag_swimlane);}if(typeof google_tag_specialslot!=="undefined"){googletag.pubads().setTargeting("specialslot",google_tag_specialslot);debug("SET traget specialslot"+google_tag_specialslot);}if(typeof google_tag_display_channel!=="undefined"){googletag.pubads().setTargeting("displaychannel",google_tag_display_channel);debug("SET traget displaychannel"+google_tag_display_channel);}if(typeof google_tag_display_section!=="undefined"){googletag.pubads().setTargeting("displaysection",google_tag_display_section);debug("SET traget displaysection"+google_tag_display_section);}for(var i=0;i<adslot_array.length;i++){debug("\n adslot array "+[adslot_array[i].id]);if([adslot_array[i].id]=="intx"||[adslot_array[i].id]=="inread"){if(typeof google_tag_zone!=="undefined"){unitName="/7175/fdc.forbes/"+google_tag_zone;}debug("\n *** unitName "+unitName);}googletag.defineSlot(unitName,adslot_array[i].sizes,"dfp-"+adslot_array[i].id).addService(pa).setTargeting("pos",[adslot_array[i].id]);}pa.enableAsyncRendering();pa.collapseEmptyDivs();googletag.enableServices();});}function _display(adslot_array){if(!_library_loaded){_load_library(function(){_display(adslot_array);});return false;}_init_publisher_tag(adslot_array);for(var i=0;i<adslot_array.length;i++){var is_already_active=false;for(var n=0;n<_active_units.length;n++){if(_active_units[n]==adslot_array[i].id){is_already_active=true;}}if(is_already_active){debug("**** is already active");googletag.pubads().refresh("dfp-"+adslot_array[i].id);}else{debug("**** NOT active, need to display");googletag.cmd.push(function(){var element_id="dfp-"+adslot_array[i].id;googletag.display(element_id);});_active_units.push(adslot_array[i].id);}}}return{init:_init,display:_display};}($));return app;}(forbes||{},jQuery));forbes.bootstrap.register(forbes.external_intx_ad_manager.init);var forbes=(function(app,$){app.external_interstitial_ad=(function($){function _init(){debug=forbes.util.debug;_polling_interval=250,_max_polling_time=4000,_polling_time=0;var now=new Date(),time=now.getTime(),_cookie_name="_forbes_intX";if($.cookie(_cookie_name)===null){if("undefined"===typeof forbes.page_meta||"undefined"===typeof forbes.page_meta.brandvoice||forbes.page_meta.brandvoice===false){debug("forbes.external_interstitial_ad.init()");_krux_value();}}}function _init_layout(){$("body").append('<div class="external_interstitial_ad" id="dfp-intx"></div>');}function _krux_value(){var now=new Date(),time=now.getTime(),_cookie_name="_forbes_intX";if(typeof forbesSecondsBetweenIntXTriggerOverride!="undefined"){debug(" forbesSecondsBetweenIntXTriggerOverride exists."+forbesSecondsBetweenIntXTriggerOverride+" secs");overrideIntX=parseInt(forbesSecondsBetweenIntXTriggerOverride,10);if(overrideIntX==-1){return true;}if(overrideIntX>0&&overrideIntX!==-1){overrideIntX=overrideIntX*1000;debug(" milliseconds set for intx "+overrideIntX+" milliseconds");_init_layout();setTimeout(_init_ad,overrideIntX);}}else{if(typeof forbesSecondsBetweenIntXTriggerOverride==="undefined"){if(_polling_time<_max_polling_time){_polling_time+=_polling_interval;setTimeout(function(){_krux_value();},_polling_interval);}}}}function _init_ad(){debug("Comes in intx ad");var now=new Date(),time=now.getTime(),_cookie_name1="_forbes_intX";if($.cookie(_cookie_name1)==null){$.cookie(_cookie_name1,time,{path:"/"});debug("forbes.external_interstitial_ad set cookie");}if(forbes.external_intx_ad_manager){forbes.external_intx_ad_manager.display([{id:"intx",sizes:[[1,1]]}]);}}return{init:_init};}($));return app;}(forbes||{},jQuery));forbes.bootstrap.register(forbes.external_interstitial_ad.init);var forbes=(function(app,$){app.sharing=(function($){var _mode="",_initialized=false,_parent_selector="#contentwrapper",_container_selector="section#abovefold,#content",_sharethis_publisher_id=null,_sharethis_url_to_share=null,_sharethis_native_count=false,_sharethis_interval=null,_sharethis_poll_delay=80,_margin_top=100,_margin_bottom=170;function _init(){if($("#sticky_sharing").length<1){return false;}_init_sharethis();}function _init_sharethis(){$("#sticky_sharing").show();if(!$.browser.msie){$("#sticky_sharing").css("opacity",0.1).stop().animate({opacity:1},{duration:400,easing:"easeInOutCubic"});}$(window).scroll(function(){_on_scroll();});_on_scroll();$(window).resize(function(){_on_window_resize();});_on_window_resize();}function _on_window_resize(){var win_width=$(window).width();var content_width=$(_container_selector).width();content_width+=20*2;if(((win_width-content_width)/2)<(parseInt($("#sticky_sharing").css("width"))+30)){}else{var left_margin=(((((win_width-content_width)/2)-$("#sticky_sharing").width())/2)+8);$("#sticky_sharing .position_reference").css("margin-left",left_margin+"px");}if(((win_width-content_width)/2)<(parseInt($("#sticky_sharing").css("width"))+20)){$("#sticky_sharing").hide();$(".inline_sharing").show();return false;}else{$("#sticky_sharing").show();$(".inline_sharing").hide();$("body#gallerytemplate #sticky_sharing .position_reference,body#real_time_billionaires #sticky_sharing .position_reference").css("margin-left","-80px");_on_scroll();}return false;}function _on_scroll(){var object_block=$("#sticky_sharing .controls");if(object_block.length<1){return false;}var page_scroll=parseInt($(document).scrollTop());var fixed_range_top=$("#sticky_sharing .position_reference").offset().top-_margin_top;var fixed_range_bottom=$("footer").offset().top-(object_block.outerHeight()+_margin_bottom);var in_article_body=($("#sticky_sharing").hasClass("in_article_body"))?true:false;if((page_scroll<fixed_range_top&&_mode!="relative")||in_article_body){object_block.css({position:"relative",top:"0"});_mode="relative";}else{if(page_scroll>fixed_range_top&&page_scroll<fixed_range_bottom&&_mode!="fixed"){object_block.css({position:"fixed",top:_margin_top+"px"});_mode="fixed";}else{if(page_scroll>fixed_range_bottom&&_mode!="absolute"){object_block.css({position:"absolute",top:(fixed_range_bottom-$("#sticky_sharing .position_reference").offset().top+_margin_top)+"px"});_mode="absolute";}}}}return{init:_init};}($));return app;}(forbes||{},jQuery));forbes.bootstrap.register(forbes.sharing.init);